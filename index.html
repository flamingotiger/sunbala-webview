<!DOCTYPE html>
<html lang="en">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì£¼ì†Œê²€ìƒ‰</title>
  </head>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
    }
    #full-size {
      height: 100%;
      width: 100%;
      overflow: hidden;
      /* or overflow:auto; if you want scrollbars */
    }
  </style>
  <body>
    <div id="full-size"></div>
  </body>
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=953a9e73d310a7198314ec6c4e7f491c&libraries=services"></script>
  <script type="text/javascript">
    // ìš°í¸ë²ˆí˜¸ ì°¾ê¸° í™”ë©´ì„ ë„£ì„ element
    var element_layer = document.getElementById("full-size");

    // daum.postcode.load(function () {
    var themeObj = {
      //bgColor: "", //ë°”íƒ• ë°°ê²½ìƒ‰
      searchBgColor: "#FFC700", //ê²€ìƒ‰ì°½ ë°°ê²½ìƒ‰
      //contentBgColor: "", //ë³¸ë¬¸ ë°°ê²½ìƒ‰(ê²€ìƒ‰ê²°ê³¼,ê²°ê³¼ì—†ìŒ,ì²«í™”ë©´,ê²€ìƒ‰ì„œì œìŠ¤íŠ¸)
      //pageBgColor: "", //í˜ì´ì§€ ë°°ê²½ìƒ‰
      //textColor: "", //ê¸°ë³¸ ê¸€ììƒ‰
      queryTextColor: "#FFFFFF", //ê²€ìƒ‰ì°½ ê¸€ììƒ‰
      postcodeTextColor: "#FFB800", //ìš°í¸ë²ˆí˜¸ ê¸€ììƒ‰
      //emphTextColor: "", //ê°•ì¡° ê¸€ììƒ‰
      //outlineColor: "", //í…Œë‘ë¦¬
    };
    new daum.Postcode({
      theme: themeObj,
      oncomplete: function (data) {
        const { address } = data;
        const geocoder = new daum.maps.services.Geocoder();
        geocoder.addressSearch(address, (result, status) => {
          if (status === daum.maps.services.Status.OK) {
            const { x, y } = result[0];
            if (
              window.getAddressWebToApp &&
              window.getAddressWebToApp.postMessage
            ) {
              console.log("ğŸ˜â­ï¸ssdsd");
              console.log(x);
              console.log(y);
              getAddressWebToApp.postMessage(
                JSON.stringify({ address: { ...data, lat: y, lon: x } })
              );
            }
          }
        });
      },
      width: "100%",
      height: "100%",
      maxSuggestItems: 5,
      alwaysShowEngAddr: false,
      hideMapBtn: true,
      hideEngBtn: true,
    }).embed(element_layer);

    // iframeì„ ë„£ì€ elementë¥¼ ë³´ì´ê²Œ í•œë‹¤.
    element_layer.style.display = "block";
    // });
  </script>
</html>
